<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Soem-user] bug: SOEM stack: Errors in master component	re-configuration
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/soem-user/2012-February/index.html" >
   <LINK REL="made" HREF="mailto:soem-user%40lists.berlios.de?Subject=Re%3A%20%5BSoem-user%5D%20bug%3A%20SOEM%20stack%3A%20Errors%20in%20master%20component%0A%09re-configuration&In-Reply-To=%3CCAP1XtZygCdCeGr%3DqBJwRy99rqpFSaaqxzJ2hHYFqqqojaKrY%2Bg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000064.html">
   <LINK REL="Next"  HREF="000066.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Soem-user] bug: SOEM stack: Errors in master component	re-configuration</H1>
    <B>Santiago Focke</B> 
    <A HREF="mailto:soem-user%40lists.berlios.de?Subject=Re%3A%20%5BSoem-user%5D%20bug%3A%20SOEM%20stack%3A%20Errors%20in%20master%20component%0A%09re-configuration&In-Reply-To=%3CCAP1XtZygCdCeGr%3DqBJwRy99rqpFSaaqxzJ2hHYFqqqojaKrY%2Bg%40mail.gmail.com%3E"
       TITLE="[Soem-user] bug: SOEM stack: Errors in master component	re-configuration">focke.85 at gmail.com
       </A><BR>
    <I>Wed Feb 22 18:37:08 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000064.html">[Soem-user] CoE questions
</A></li>
        <LI>Next message: <A HREF="000066.html">[Soem-user] Beckhoff drivers not able to address the second terminal (of three) in an ethercat chain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65">[ date ]</a>
              <a href="thread.html#65">[ thread ]</a>
              <a href="subject.html#65">[ subject ]</a>
              <a href="author.html#65">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hi

I've been trying to make some reconfigurations with the Orocos SOEM master
component and I saw that after doing it the component stopped working
correctly. This was caused because every time the component (re)configures
itself, it creates again all the slaves found in the network, and adds the
into the m_drivers vector. So, if I have one slave and configure 3 times my
master, there will be 3 different slave drivers in the vector for the same
slave. Also, when reconfiguring, it cannot add the service of the
last-created driver, and the first-created one will be pointing to some
region of memory that no longer corresponds to the slave image (in case
SOEM remaps in a different place). I'm thinking on using a class variable
(set by an operation of the master service) that will define if the master
makes the whole configuration (searching for slaves, mapping, etc..) or
just the slaves' parameter configuration, but I'd like to listen to better
options.

Regards,

-- 
Santiago
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/soem-user/attachments/20120222/36547637/attachment.html">https://lists.berlios.de/pipermail/soem-user/attachments/20120222/36547637/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000064.html">[Soem-user] CoE questions
</A></li>
	<LI>Next message: <A HREF="000066.html">[Soem-user] Beckhoff drivers not able to address the second terminal (of three) in an ethercat chain
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#65">[ date ]</a>
              <a href="thread.html#65">[ thread ]</a>
              <a href="subject.html#65">[ subject ]</a>
              <a href="author.html#65">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/soem-user">More information about the Soem-user
mailing list</a><br>
</body></html>
