<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Soem-user] Using Beckhoff EK1100 and EL6751
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/soem-user/2012-June/index.html" >
   <LINK REL="made" HREF="mailto:soem-user%40lists.berlios.de?Subject=Re%3A%20%5BSoem-user%5D%20Using%20Beckhoff%20EK1100%20and%20EL6751&In-Reply-To=%3C4FDB459E.3080508%40smfk.nl%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000118.html">
   <LINK REL="Next"  HREF="000120.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Soem-user] Using Beckhoff EK1100 and EL6751</H1>
    <B>Arthur Ketels</B> 
    <A HREF="mailto:soem-user%40lists.berlios.de?Subject=Re%3A%20%5BSoem-user%5D%20Using%20Beckhoff%20EK1100%20and%20EL6751&In-Reply-To=%3C4FDB459E.3080508%40smfk.nl%3E"
       TITLE="[Soem-user] Using Beckhoff EK1100 and EL6751">arthur at smfk.nl
       </A><BR>
    <I>Fri Jun 15 16:24:30 CEST 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000118.html">[Soem-user] Using Beckhoff EK1100 and EL6751
</A></li>
        <LI>Next message: <A HREF="000120.html">[Soem-user] Using Beckhoff EK1100 and EL6751
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#119">[ date ]</a>
              <a href="thread.html#119">[ thread ]</a>
              <a href="subject.html#119">[ subject ]</a>
              <a href="author.html#119">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Op 14-6-2012 17:39, Santiago Focke schreef:
&gt;<i> Hi all
</I>&gt;<i>
</I>&gt;<i> I have been trying to add the Beckhoff devices EK1100 and EL6751 to y 
</I>&gt;<i> EtherCAT network using SOEM 1.2.4. I am able to achieve the 
</I>&gt;<i> operational mode of both devices by following these steps:
</I>&gt;<i>
</I>&gt;<i> - ec_init
</I>&gt;<i> - ec_config_init(true)
</I>&gt;<i> - ec_slave[0]&#236;_STATE_PRE_OP
</I>&gt;<i> - ec_writestate(0)
</I>&gt;<i> - ec_chechstate(...)
</I>Set baudrate
Now you need to program the slave to do a bus scan.
Do other configurations necessary to get the slaves in a working state.
&gt;<i> - ec_config_map (...)
</I>Config map will read the PDO mapping of all slaves at that moment. If 
the slave is not yet configured then it will take that mapping. In 
effect disabling it. So only do config map AFTER all configurations and 
scans have been done.
&gt;<i> - &lt;&lt;configure slaves&gt;&gt; --&gt; set 0xF800:2 = 0 (set baudrate of the EL6751)
</I>&gt;<i> - ec_slave[0]&#236;_STATE_SAFE_OP
</I>&gt;<i> - ec_writestate(0)
</I>&gt;<i> - ec_chechstate(...)
</I>&gt;<i> - ec_config_dc()
</I>&gt;<i> - ec_slave[0]&#236;_STATE_OPERATIONAL
</I>&gt;<i> - ec_writestate(0)
</I>&gt;<i> - ec_chechstate(...)
</I>
The EL6751 is one of the most difficult slaves to implement in your 
application. So I wish you good luck. And.... read the EL6751 
manual..... It has a flow chart how to do the configuration.

Regards,
Arthur Ketels
&gt;<i>
</I>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000118.html">[Soem-user] Using Beckhoff EK1100 and EL6751
</A></li>
	<LI>Next message: <A HREF="000120.html">[Soem-user] Using Beckhoff EK1100 and EL6751
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#119">[ date ]</a>
              <a href="thread.html#119">[ thread ]</a>
              <a href="subject.html#119">[ subject ]</a>
              <a href="author.html#119">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/soem-user">More information about the Soem-user
mailing list</a><br>
</body></html>
